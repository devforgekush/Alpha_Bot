#!/bin/bash

# Set Python path
export PYTHONPATH=/app

# Create downloads directory if it doesn't exist
mkdir -p downloads

# Check if config.py exists
echo "ğŸ” Checking for config.py..."
if [ -f "/app/config.py" ]; then
    echo "âœ… config.py found in /app/"
elif [ -f "config.py" ]; then
    echo "âœ… config.py found in current directory"
else
    echo "âŒ config.py not found!"
    echo "ğŸ“ Current directory contents:"
    ls -la
    echo "ğŸ“ /app/ directory contents:"
    ls -la /app/ || echo "Cannot access /app/"
fi

# Test config import
echo "ğŸ” Testing config import..."
python3 test_config.py

# Test git dependencies
echo "ğŸ” Testing git dependencies..."
python3 test_git.py

# Run health check first
echo "ğŸ” Running health check..."
python3 health_check.py

# Start the main application
echo "ğŸš€ Starting Audify Music Bot..."
python3 start_simple.py
